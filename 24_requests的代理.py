# -*- coding: utf-8 -*-
# @Time    : 2022/12/17 15:10
# @Author  : 悬笔墨客
# @File    : 寒假07_requests的代理.py
import random
import requests

url = 'https://www.baidu.com/s?'
headers = {
    'User-Agent':'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36',
    'Cookie':'BAIDUID=CD77FFAA4C039C3D056196E322D1A02E:FG=1; BIDUPSID=FC23AE2795F13777E73E9B7334A265AB; PSTM=1670573728; BD_UPN=12314753; BDUSS=9XQkFNYjJ5V0htQlVCdGJKaW96djFZd200ZEdnazRTR0JZZWxsajhEQXJmcnRqSVFBQUFBJCQAAAAAAAAAAAEAAABL4z9gbWFzdGVyYmFrAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACvxk2Mr8ZNjMW; BDUSS_BFESS=9XQkFNYjJ5V0htQlVCdGJKaW96djFZd200ZEdnazRTR0JZZWxsajhEQXJmcnRqSVFBQUFBJCQAAAAAAAAAAAEAAABL4z9gbWFzdGVyYmFrAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACvxk2Mr8ZNjMW; BDORZ=B490B5EBF6F3CD402E515D22BCDA1598; H_PS_PSSID=37855_36558_37690_37909_37623_37795_36802_37949_37938_37758_37904_26350_37790_37881; ab_sr=1.0.1_MGRiN2I0NTYxNGJjMzZlNmIwZTVkZTcyZDMwMGJhYTM3ZjhkMWJjN2ZiODk0ZDY2MTU1ODVlZWI0ZTUxYTBlYTY1M2U0ZTY4ZmMyYjc1MWNhYmY4OGY4YzY5YTNhY2Q3NGY1OTU2NDlhYmU4NjhiZTFhODk0OTRkMTg5MmIwMTAyZjVlZjg1MjVmYTA1Mjk0ZjIzZTk3MTFiMjI3ODZhZGViNzU3MzZlMDg3NTE5YjdjMzUzMDY0ODA3MDhiNDE5; BAIDUID_BFESS=CD77FFAA4C039C3D056196E322D1A02E:FG=1; delPer=0; BD_CK_SAM=1; PSINO=3; BA_HECTOR=ak2k2kah04250l8k25250m7d1hpql191g; ZFY=zw5W8LQ1bdm9TSXZnmHqBYPTiYrGTfacahbq0OG2mNE:C; B64_BOT=1; H_PS_645EC=d7abYdKSQxVCBGVRIb54LW6WFaE%2FWbPK2l0kM8EPbFbtW4jyNMgxM0YrPgY; baikeVisitId=a5799b48-cb1f-4e55-a4f5-c645e4b86090; BDSVRTM=27'
}
data = {
    'wd':'ip'
}
proxies_pool = [
    {'http':'112.14.47.6:52024'},
    {'http':'117.114.149.66:55443'},
    {'http':'121.13.252.62:41564'},
    {'http':'121.13.252.61:41564'}
]
proxies = random.choice(proxies_pool)
response = requests.get(url=url,params=data,headers=headers,proxies=proxies)
content = response.text
with open('代理.html','w',encoding='utf-8') as fp:
    fp.write(content)